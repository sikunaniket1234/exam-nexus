<div class="min-h-screen bg-gray-50 py-10 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto bg-white shadow sm:rounded-lg p-8">
    
    <h2 class="text-2xl font-bold mb-6">Manage Exam Access</h2>

    <div class="mb-6">
      <label class="flex items-center space-x-3 cursor-pointer">
        <input type="checkbox" [(ngModel)]="isOpenToAll" class="form-checkbox h-5 w-5 text-indigo-600">
        <span class="text-gray-900 font-medium">Open to Everyone (Public Exam)</span>
      </label>
      <p class="text-sm text-gray-500 mt-1 ml-8">
        If unchecked, only selected students will see this exam.
      </p>
    </div>

    <div *ngIf="!isOpenToAll" class="border border-gray-200 rounded-md overflow-hidden">
      <div class="bg-gray-50 px-4 py-2 border-b border-gray-200 font-medium text-gray-700">
        Select Students
      </div>
      <div class="max-h-96 overflow-y-auto p-4 space-y-2">
        <div *ngFor="let student of students" class="flex items-center">
          <input 
            type="checkbox" 
            [checked]="selectedStudentIds.has(student.id)"
            (change)="toggleStudent(student.id)"
            class="h-4 w-4 text-indigo-600 border-gray-300 rounded"
          >
          <label class="ml-3 text-sm text-gray-700">{{ student.full_name }} ({{ student.email }})</label>
        </div>
      </div>
    </div>

    <div class="mt-8 flex justify-end">
      <button routerLink="/teacher/dashboard" class="mr-4 text-gray-600 font-medium">Cancel</button>
      <button (click)="saveAssignment()" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">
        Save Settings
      </button>
    </div>

  </div>
</div>